{"version":3,"sources":["webpack:///./src/reducers/index.js","webpack:///./src/store.js","webpack:///./src/components/layout.js","webpack:///./src/components/page-wrapper.js","webpack:///./src/components/p5-wrapper.js","webpack:///./src/p5-sketches/game-of-life/cell.js","webpack:///./src/p5-sketches/game-of-life/gol.js","webpack:///./src/p5-sketches/game-of-life/index.js","webpack:///./src/pages/index.js"],"names":["combineReducers","store","createStore","reducers","Layout","render","children","this","props","react_default","a","createElement","layout_Wrapper","Helmet","name","content","React","Component","Wrapper","styled","div","withConfig","displayName","componentId","PageWrapper","Comp","_React$Component","apply","arguments","inheritsLoose_default","prototype","es","components_layout","P5Wrapper","sketch","p5Wrapper","useRef","p5Instance","useEffect","p5","require","current","setSketchProps","ref","Cell","p","x","y","w","_this","setState","state","saveState","previousState","Math","floor","random","display","stroke","strokeWeight","fill","rect","GOL","columns","width","rows","height","board","Array","map","init","_this2","column","i","_","j","cell","generate","_this3","forEach","neighbors","gol","setup","createCanvas","windowWidth","windowHeight","background","draw","windowResized","resizeCanvas","pages_Wrapper","p5_wrapper","gameOfLifeSketch"],"mappings":"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","file":"component---src-pages-index-js-98908eaad99658321c1c.js","sourcesContent":["import { combineReducers } from 'redux'\r\n\r\nexport default combineReducers({})\r\n","import { createStore } from 'redux'\r\nimport reducers from './reducers'\r\n\r\nconst initialState = {}\r\n\r\nconst store = createStore(reducers, initialState)\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Helmet } from 'react-helmet'\r\n\r\n// import favicon from '../../assets/img/favicon.ico'\r\nimport './layout.css'\r\n\r\nclass Layout extends React.Component {\r\n  render() {\r\n    let { children } = this.props\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Helmet>\r\n          <title>Conway's Game of Life</title>\r\n          <meta name=\"description\" content=\"The implementation of Conway's game of life.\" />\r\n          {/* <link rel=\"icon\" href={favicon} /> */}\r\n        </Helmet>\r\n        {children}\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div``\r\n\r\nexport default Layout\r\n","import React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport store from '../store'\r\nimport Layout from './layout'\r\n\r\nconst PageWrapper = Comp => {\r\n  class Wrapper extends React.Component {\r\n    render() {\r\n      return (\r\n        <Provider store={store}>\r\n          <Layout {...this.props}>\r\n            <Comp {...this.props} />\r\n          </Layout>\r\n        </Provider>\r\n      )\r\n    }\r\n  }\r\n\r\n  Wrapper.displayName = `Wrapper-of-${Comp.displayName || Comp.name}`\r\n\r\n  return Wrapper\r\n}\r\n\r\nexport default PageWrapper\r\n","import React, { useRef, useEffect } from 'react'\r\n\r\nfunction P5Wrapper(props) {\r\n  let { sketch } = props\r\n  let p5Wrapper = useRef(null)\r\n  let p5Instance = null\r\n\r\n  useEffect(() => {\r\n    // hack to import p5 because SSR\r\n    const p5 = require('p5')\r\n\r\n    p5Instance = new p5(sketch, p5Wrapper.current)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (p5Instance && p5Instance.setSketchProps) {\r\n      p5Instance.setSketchProps(props)\r\n    }\r\n  })\r\n\r\n  return <div ref={p5Wrapper} />\r\n}\r\n\r\nexport default P5Wrapper\r\n","class Cell {\r\n  constructor(p, x, y, w) {\r\n    this.x = x\r\n    this.y = y\r\n    this.w = w\r\n\r\n    this.state = Math.floor(p.random(2))\r\n    this.previousState = this.state\r\n  }\r\n\r\n  setState = state => {\r\n    this.state = state\r\n  }\r\n\r\n  saveState = () => {\r\n    this.previousState = this.state\r\n  }\r\n\r\n  display(p) {\r\n    p.stroke(0)\r\n    p.strokeWeight(1)\r\n    if (this.state === 1) p.fill(50)\r\n    else p.fill(255)\r\n    p.rect(this.x, this.y, this.w, this.w)\r\n  }\r\n}\r\n\r\nexport default Cell\r\n","import Cell from './cell'\r\n\r\nclass GOL {\r\n  constructor(p) {\r\n    this.w = 20\r\n\r\n    this.columns = Math.floor(p.width / this.w)\r\n    this.rows = Math.floor(p.height / this.w)\r\n\r\n    this.board = Array(this.columns)\r\n      .fill()\r\n      .map(() => Array(this.rows).fill())\r\n\r\n    this.init(p)\r\n  }\r\n\r\n  init(p) {\r\n    this.board = this.board.map((column, i) =>\r\n      column.map((_, j) => {\r\n        let cell = new Cell(p, i * this.w, j * this.w, this.w)\r\n        if (\r\n          i === 0 ||\r\n          i === this.columns - 1 ||\r\n          j === 0 ||\r\n          j === this.rows - 1\r\n        ) {\r\n          cell.setState(0)\r\n        }\r\n        return cell\r\n      })\r\n    )\r\n  }\r\n\r\n  generate() {\r\n    this.board.forEach(column => column.forEach(cell => cell.saveState()))\r\n\r\n    this.board.forEach((column, i) => {\r\n      column.forEach((cell, j) => {\r\n        // At boundaries, state remains the same\r\n        if (i > 0 && i < this.columns - 1 && j > 0 && j < this.rows - 1) {\r\n          let neighbors = 0\r\n          for (let x = -1; x <= 1; x++) {\r\n            for (let y = -1; y <= 1; y++) {\r\n              neighbors += this.board[i + x][j + y].previousState\r\n            }\r\n          }\r\n          neighbors -= cell.previousState\r\n\r\n          if (cell.previousState === 1 && neighbors < 2) cell.setState(0)\r\n          else if (cell.previousState === 1 && neighbors > 3) cell.setState(0)\r\n          else if (cell.previousState === 0 && neighbors === 3) cell.setState(1)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  display(p) {\r\n    this.board.forEach(column => column.forEach(cell => cell.display(p)))\r\n  }\r\n}\r\n\r\nexport default GOL\r\n","import GOL from './gol'\r\n\r\nexport default function sketch(p) {\r\n  let gol\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(p.windowWidth, p.windowHeight)\r\n    p.background(255)\r\n\r\n    gol = new GOL(p)\r\n  }\r\n\r\n  p.draw = function() {\r\n    gol.generate()\r\n    gol.display(p)\r\n  }\r\n\r\n  p.windowResized = function() {\r\n    p.resizeCanvas(p.windowWidth, p.windowHeight)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport PageWrapper from '../components/page-wrapper'\r\nimport P5Wrapper from '../components/p5-wrapper'\r\nimport gameOfLifeSketch from '../p5-sketches/game-of-life'\r\n\r\nfunction HomePage() {\r\n  return (\r\n    <Wrapper>\r\n      <P5Wrapper sketch={gameOfLifeSketch} />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div``\r\n\r\nexport default PageWrapper(HomePage)\r\n"],"sourceRoot":""}