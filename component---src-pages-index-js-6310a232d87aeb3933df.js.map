{"version":3,"sources":["webpack:///./src/reducers/game-of-life.js","webpack:///./src/reducers/index.js","webpack:///./src/reducers/action-types.js","webpack:///./src/store.js","webpack:///./src/components/layout.js","webpack:///./src/components/page-wrapper.js","webpack:///./src/components/p5-wrapper.js","webpack:///./src/p5-sketches/game-of-life/cell.js","webpack:///./src/p5-sketches/game-of-life/gol.js","webpack:///./src/p5-sketches/game-of-life/index.js","webpack:///./src/components/icons.js","webpack:///./src/components/refresh-button.js","webpack:///./src/components/control-panel.js","webpack:///./src/pages/index.js","webpack:///./src/action-creators.js"],"names":["initialState","refresh","combineReducers","gameOfLife","state","_ref","type","payload","Object","assign","store","createStore","reducers","Layout","render","children","this","props","react_default","a","createElement","layout_Wrapper","Helmet","name","content","React","Component","Wrapper","styled","div","withConfig","displayName","componentId","PageWrapper","Comp","_React$Component","apply","arguments","inheritsLoose_default","prototype","es","components_layout","P5Wrapper","sketch","_props$exposeSketchCu","exposeSketchCustomProps","p5Wrapper","useRef","p5Instance","useEffect","p5","require","current","setSketchProps","customProps","ref","Cell","p","x","y","w","_this","setState","saveState","previousState","Math","floor","random","display","stroke","strokeWeight","fill","rect","GOL","columns","width","rows","height","board","Array","map","init","_this2","column","i","_","j","cell","_this3","forEach","generate","_this4","neighbors","gol","setup","createCanvas","windowWidth","windowHeight","background","draw","windowResized","resizeCanvas","Refresh","index_esm","extraCss","RefreshButton","_props$extraCss","_props$onClick","onClick","refresh_button_Wrapper","icons_Refresh","size","connect","ownProps","refreshGameOfLife","control_panel_Wrapper","refresh_button","dispatch","setGameOfLifeState","pages_Wrapper","control_panel","p5_wrapper","gameOfLifeSketch"],"mappings":"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","file":"component---src-pages-index-js-6310a232d87aeb3933df.js","sourcesContent":["import { SET_GAME_OF_LIFE_STATE } from './action-types'\r\n\r\nconst initialState = {\r\n  refresh: () => {},\r\n}\r\n\r\nexport default function(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case SET_GAME_OF_LIFE_STATE:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport gameOfLife from './game-of-life'\r\n\r\nexport default combineReducers({\r\n  gameOfLife,\r\n})\r\n","export const SET_GAME_OF_LIFE_STATE = 'SET_GAME_OF_LIFE_STATE'\r\n","import { createStore } from 'redux'\r\nimport reducers from './reducers'\r\n\r\nconst initialState = {}\r\n\r\nconst store = createStore(reducers, initialState)\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Helmet } from 'react-helmet'\r\n\r\n// import favicon from '../../assets/img/favicon.ico'\r\nimport './layout.css'\r\n\r\nclass Layout extends React.Component {\r\n  render() {\r\n    let { children } = this.props\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Helmet>\r\n          <title>Conway's Game of Life</title>\r\n          <meta name=\"description\" content=\"The implementation of Conway's game of life.\" />\r\n          {/* <link rel=\"icon\" href={favicon} /> */}\r\n        </Helmet>\r\n        {children}\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div``\r\n\r\nexport default Layout\r\n","import React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport store from '../store'\r\nimport Layout from './layout'\r\n\r\nconst PageWrapper = Comp => {\r\n  class Wrapper extends React.Component {\r\n    render() {\r\n      return (\r\n        <Provider store={store}>\r\n          <Layout {...this.props}>\r\n            <Comp {...this.props} />\r\n          </Layout>\r\n        </Provider>\r\n      )\r\n    }\r\n  }\r\n\r\n  Wrapper.displayName = `Wrapper-of-${Comp.displayName || Comp.name}`\r\n\r\n  return Wrapper\r\n}\r\n\r\nexport default PageWrapper\r\n","import React, { useRef, useEffect } from 'react'\r\n\r\nfunction P5Wrapper(props) {\r\n  let { sketch, exposeSketchCustomProps = () => {} } = props\r\n  let p5Wrapper = useRef(null)\r\n  let p5Instance = null\r\n\r\n  useEffect(() => {\r\n    // hack to import p5 because SSR\r\n    const p5 = require('p5')\r\n\r\n    p5Instance = new p5(sketch, p5Wrapper.current)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (p5Instance && p5Instance.setSketchProps) {\r\n      p5Instance.setSketchProps(props)\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    exposeSketchCustomProps(p5Instance.customProps)\r\n  }, [])\r\n\r\n  return <div ref={p5Wrapper} />\r\n}\r\n\r\nexport default P5Wrapper\r\n","class Cell {\r\n  constructor(p, x, y, w) {\r\n    this.x = x\r\n    this.y = y\r\n    this.w = w\r\n\r\n    this.state = Math.floor(p.random(2))\r\n    this.previousState = this.state\r\n  }\r\n\r\n  setState = state => {\r\n    this.state = state\r\n  }\r\n\r\n  saveState = () => {\r\n    this.previousState = this.state\r\n  }\r\n\r\n  display(p) {\r\n    p.stroke(0)\r\n    p.strokeWeight(1)\r\n    if (this.state === 1) p.fill(50)\r\n    else p.fill(255)\r\n    p.rect(this.x, this.y, this.w, this.w)\r\n  }\r\n}\r\n\r\nexport default Cell\r\n","import Cell from './cell'\r\n\r\nclass GOL {\r\n  constructor(p) {\r\n    this.w = 20\r\n\r\n    this.columns = Math.floor(p.width / this.w)\r\n    this.rows = Math.floor(p.height / this.w)\r\n\r\n    this.board = Array(this.columns)\r\n      .fill()\r\n      .map(() => Array(this.rows).fill())\r\n\r\n    this.init(p)\r\n  }\r\n\r\n  init(p) {\r\n    this.board = this.board.map((column, i) =>\r\n      column.map((_, j) => {\r\n        let cell = new Cell(p, i * this.w, j * this.w, this.w)\r\n        if (\r\n          i === 0 ||\r\n          i === this.columns - 1 ||\r\n          j === 0 ||\r\n          j === this.rows - 1\r\n        ) {\r\n          cell.setState(0)\r\n        }\r\n        return cell\r\n      })\r\n    )\r\n  }\r\n\r\n  refresh(p) {\r\n    this.board.forEach((column, i) => {\r\n      column.forEach((cell, j) => {\r\n        if (\r\n          i === 0 ||\r\n          i === this.columns - 1 ||\r\n          j === 0 ||\r\n          j === this.rows - 1\r\n        ) {\r\n          cell.setState(0)\r\n        } else {\r\n          cell.setState(Math.floor(p.random(2)))\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  generate() {\r\n    this.board.forEach(column => column.forEach(cell => cell.saveState()))\r\n\r\n    this.board.forEach((column, i) => {\r\n      column.forEach((cell, j) => {\r\n        // At boundaries, state remains the same\r\n        if (i > 0 && i < this.columns - 1 && j > 0 && j < this.rows - 1) {\r\n          let neighbors = 0\r\n          for (let x = -1; x <= 1; x++) {\r\n            for (let y = -1; y <= 1; y++) {\r\n              neighbors += this.board[i + x][j + y].previousState\r\n            }\r\n          }\r\n          neighbors -= cell.previousState\r\n\r\n          if (cell.previousState === 1 && neighbors < 2) cell.setState(0)\r\n          else if (cell.previousState === 1 && neighbors > 3) cell.setState(0)\r\n          else if (cell.previousState === 0 && neighbors === 3) cell.setState(1)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  display(p) {\r\n    this.board.forEach(column => column.forEach(cell => cell.display(p)))\r\n  }\r\n}\r\n\r\nexport default GOL\r\n","import GOL from './gol'\r\n\r\nexport default function sketch(p) {\r\n  let gol\r\n\r\n  p.customProps = {}\r\n\r\n  p.customProps.refresh = function() {\r\n    gol.refresh(p)\r\n  }\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(p.windowWidth, p.windowHeight)\r\n    p.background(255)\r\n\r\n    gol = new GOL(p)\r\n  }\r\n\r\n  p.draw = function() {\r\n    gol.generate()\r\n    gol.display(p)\r\n  }\r\n\r\n  p.windowResized = function() {\r\n    p.resizeCanvas(p.windowWidth, p.windowHeight)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { MdRefresh, MdPlayArrow, MdPause, MdStop } from 'react-icons/md'\r\n\r\nexport const Refresh = props => <MdRefresh {...props} />\r\nexport const Play = props => <MdPlayArrow {...props} />\r\nexport const Pause = props => <MdPause {...props} />\r\nexport const Stop = props => <MdStop {...props} />\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Refresh } from './icons'\r\n\r\nfunction RefreshButton(props) {\r\n  let { extraCss = '', onClick = () => {} } = props\r\n\r\n  return (\r\n    <Wrapper extraCss={extraCss} onClick={onClick}>\r\n      <Refresh size={20} />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background: #ccc;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${props => props.extraCss}\r\n`\r\n\r\nexport default RefreshButton\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport RefreshButton from './refresh-button'\r\n\r\nfunction ControlPanel(props) {\r\n  let { extraCss, refreshGameOfLife } = props\r\n\r\n  return (\r\n    <Wrapper extraCss={extraCss}>\r\n      <RefreshButton onClick={refreshGameOfLife} />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  ${props => props.extraCss}\r\n`\r\n\r\nexport default connect(\r\n  (state, ownProps) => ({\r\n    refreshGameOfLife: state.gameOfLife.refresh,\r\n  }),\r\n  null\r\n)(ControlPanel)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport actionCreators from '../action-creators'\r\nimport PageWrapper from '../components/page-wrapper'\r\nimport P5Wrapper from '../components/p5-wrapper'\r\nimport gameOfLifeSketch from '../p5-sketches/game-of-life'\r\nimport ControlPanel from '../components/control-panel'\r\n\r\nfunction HomePage(props) {\r\n  let { setGameOfLifeState } = props\r\n\r\n  function handleExposeSketchCustomProps(props) {\r\n    setGameOfLifeState(props)\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ControlPanel extraCss={'position: absolute; top: 10px; left: 15px;'} />\r\n      <P5Wrapper\r\n        sketch={gameOfLifeSketch}\r\n        exposeSketchCustomProps={handleExposeSketchCustomProps}\r\n      />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div``\r\n\r\nexport default PageWrapper(\r\n  connect(\r\n    null,\r\n    actionCreators\r\n  )(HomePage)\r\n)\r\n","import * as actionTypes from './reducers/action-types'\r\n\r\nexport default function(dispatch) {\r\n  return {\r\n    setGameOfLifeState: state => {\r\n      dispatch({\r\n        type: actionTypes.SET_GAME_OF_LIFE_STATE,\r\n        payload: state,\r\n      })\r\n    },\r\n  }\r\n}\r\n"],"sourceRoot":""}